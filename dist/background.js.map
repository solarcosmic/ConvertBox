{"version":3,"file":"background.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://convertbox/./src/background.js"],"sourcesContent":["function convertImageChecker(info, tab) {\n    console.log(info, tab);\n    if (info[\"mediaType\"] == \"image\") {\n        const menuItemSplit = info[\"menuItemId\"].toLowerCase().split(\"_\");\n        chrome.tabs.sendMessage(tab.id, {\n            action: \"convertImage\",\n            srcUrl: info[\"srcUrl\"],\n            format: menuItemSplit[1]\n        });\n    } else if (info[\"menuItemId\"] == \"convertHTMLToMarkdown\") {\n        chrome.tabs.sendMessage(tab.id, {\n            action: \"convertHTMLToMarkdown\"\n        });\n    }\n}\n\nchrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n    if (request.action === \"downloadImage\") {\n        chrome.downloads.download({\n            url: request.url,\n            filename: request.filename,\n            saveAs: true,\n        });\n    } else if (request.action === \"downloadFromUrl\") {\n        chrome.downloads.download({\n            url: request.url,\n            filename: request.filename,\n            saveAs: true,\n        });\n    }\n});\n\nchrome.runtime.onInstalled.addListener(() => {\n    chrome.contextMenus.create({\n        id: \"convertImage\",\n        title: \"Convert Image\",\n        contexts: [\"image\"]\n    });\n    const image_list = {\n        \"JPEG\": \"Joint Photographic Expert Group Image\",\n        \"PNG\": \"Portable Network Graphics\",\n        \"WebP\": \"Web Picture Format\",\n        \"ICO\": \"Microsoft Icon\",\n        \"TIFF\": \"Tagged Image File Format\",\n        \"BMP\": \"Bitmap Format\",\n    }\n    for (const format in image_list) {\n        chrome.contextMenus.create({\n            id: \"convertImage_\" + format.toLowerCase(),\n            title: format + \" (\" + image_list[format] + \")\",\n            contexts: [\"image\"],\n            parentId: \"convertImage\",\n        });\n    }\n    chrome.contextMenus.create({\n        id: \"convertHTMLToMarkdown\",\n        title: \"Convert Page (HTML) to Markdown\",\n        contexts: [\"page\"]\n    });\n    chrome.contextMenus.onClicked.addListener(convertImageChecker)\n});"],"names":[],"sourceRoot":""}